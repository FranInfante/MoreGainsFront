<app-back-to-menu></app-back-to-menu>
<div class="d-flex flex-column vh-100">
  <div
    class="tab-content flex-grow-1 d-flex flex-column justify-content-start mt-5"
  >
    <ng-container *ngIf="activePlan; else noPlans">
        <div class="d-flex flex-row align-items-center mx-4">
            <div class="flex-grow-1">
              <h3 class="mt-3 ms-5" style="text-align: center;">{{ activePlan.name }}</h3>
            </div>
            <button class="p-2 ms-3 btn">
              <img [src]="ThreeDotsIcon" alt="ThreeDotsIcon">
            </button>
          </div>
      <app-workouts
        [workouts]="activePlan.workouts"
        [planId]="activePlan.id"
      ></app-workouts>
      <button class="btn btn-danger position-absolute bottom-0 end-0 mb-[3rem] me-3" 
        (click)="deletePlan(activePlan.id)"
        style="background-color: red; color: white; z-index: 1000;">
  DELETE
</button>
    </ng-container>
    <ng-template #noPlans>
      <p>No plans available. Please add a plan to get started.</p>
    </ng-template>
  </div>

  <div class="fixed-bottom-container">
    <ul class="nav nav-tabs" #navTabs>
      <li class="nav-item" *ngFor="let plan of plans">
        <a
          class="nav-link"
          [class.active]="plan.id === activePlanId"
          (click)="selectPlan(plan.id)"
        >
          {{ plan.name }}
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" (click)="addPlan()">+</a>
      </li>
    </ul>
  </div>
</div>
